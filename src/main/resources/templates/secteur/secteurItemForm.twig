{% extends "classpath:/templates/utils/baseTemplate.twig" %}
{% block titre %}Formulaire de secteur{% endblock %}
{% block content %}
    <form method="post" action="/secteur/SubmitSecteurForm">
        <h2 class = "mt-4">Ajouter un secteur</h2>

        <hr/>
        <!-- Form levels error messages here -->
        <div class = "form-group row ">
            <div class="col-sm-8">
                {% if errors != null %}
                {% for error in errors %}
                <span class="text-danger" > {{ error.field }}: {{ error.defaultMessage }}</span><br>
                {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class = "form-group row ">
            <label for = "name" class = "col-sm-2 col-form-label">Nom</label>
            <div class = "col-sm-4">
                <input type = "text" class = "form-control" placeholder = "Obligatoire" name="name" value="{{ secteur.name }}" >
            </div>
            <div class="col-sm-4">
                <span class="text-danger"> </span>
            </div>
        </div>
        <div class = "form-group row">
            <label for = "description" class = "col-sm-2 col-form-label">Description</label>
            <div class = "col-sm-4">
                <textarea class = "form-control" rows = "3" placeholder = "Max. 50 caractÃ¨res" name="description">{{ secteur.description }}</textarea>
            </div>
            <div class="col-sm-4">
                <span class="text-danger"> </span>
            </div>
        </div>
        <div class = "form-group row">
            <label for = "site" class = "col-sm-2 col-form-label">Site</label>
            <div class = "col-sm-4">
                <select class="form-control" name="site">
                    {% for site in sites %}
                        {% if site.id == secteur.site.id %}
                            <option selected="selected" value="{{ site.id }}">{{ site.name }}</option>
                        {% else %}
                            <option value="{{ site.id }}">{{ site.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="col-sm-4">
                <span class="text-danger"> </span>
            </div>
        </div>

        <div class = "form-group row">
            <div class = "col-sm-10">
                <input type="hidden" name="id" value="{{ site.id }}">
                <button type = "submit" class = "btn btn-primary">Enregistrer</button>
                <a href="/secteur/list" class = "btn btn-secondary">Annuler</a>
            </div>
        </div>

    </form>

{% endblock %}